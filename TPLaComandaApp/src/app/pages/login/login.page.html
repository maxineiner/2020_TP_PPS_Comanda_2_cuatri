<ion-content>
  <form [formGroup]="form" (ngSubmit)="login()">
    <ion-grid fixed>
      <ion-row>
        <ion-col>

        </ion-col>
      </ion-row>
      <ion-row color="primary">
        <ion-col size-md="6" size-lg="5" size-xs="12">
          <div class="ion-text-center">
            <h3 class="title">Iniciar sesión</h3>
          </div>
          <div class="ion-padding">
            <ion-item class="inputForm">
              <ion-label position="floating">Correo</ion-label>
              <ion-input name="email" type="email" [(ngModel)]="usuario.mail" formControlName="mail"></ion-input>
            </ion-item>
            <ion-item *ngIf="form.controls['mail'].errors && form.controls['mail'].dirty">
              <p *ngIf="form.controls['mail'].errors?.pattern" 
              class="error">
              No es un email valido.
              </p>
              <p *ngIf="form.controls['mail'].errors?.required" 
                    class="error">
                    Este campo es requerido.
              </p>
            </ion-item>
            <ion-item class="inputForm">
              <ion-label position="floating">Clave</ion-label>
              <ion-input name="password" type="password" [(ngModel)]="usuario.password" formControlName="password"></ion-input>
            </ion-item>
            <ion-item *ngIf="form.controls['password'].errors && form.controls['password'].dirty">
              <p *ngIf="form.controls['password'].errors?.required" class="error">
                  Este campo es requerido.
              </p>
              <p *ngIf="form.controls['password'].errors?.minlength" 
                    class="error">
                    La clave debe tener 6 o mas carácteres.
              </p>
            </ion-item>
          </div>
          <div class="ion-padding">
            <ion-button 
              [disabled]="form.invalid" 
              size="large" 
              type="submit" 
              expand="block">
              Iniciar
            </ion-button>
            <ion-button 
              [disabled]="form.controls['password'].value == null && form.controls['mail'].value == null" 
              size="large" 
              (click)="limpiar()" 
              expand="block">
              Limpiar
            </ion-button>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>

  <app-button-flotating (usuario)="LoginUser($event)"></app-button-flotating>

</ion-content>
